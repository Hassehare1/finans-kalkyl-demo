<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Avbetalning vs kontant + spara – Winjo Consulting</title>

  <!-- Bas-SEO -->
  <meta name="description" content="Kalkylator som jämför avbetalning med kontantköp + månadssparande. Se totalkostnad, räntaeffekt och verklig skillnad på bankkontot. By Winjo Consulting AB." />
  <meta name="keywords" content="avbetalning, kontantköp, kalkylator, ränta, månadssparande, finans, ekonomi" />
  <meta name="author" content="Winjo Consulting AB" />
  <link rel="canonical" href="https://finans-kalkyl-demo.vercel.app/finans-kalkylator.html" />

  <!-- Open Graph / Social -->
  <meta property="og:title" content="Avbetalning vs kontant + spara – kalkylator" />
  <meta property="og:description" content="Räkna ut verkliga kostnaden för avbetalning och jämför med kontantköp + sparande." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://finans-kalkyl-demo.vercel.app/finans-kalkylator.html" />

  <style>
    :root{
      --bg:#0b1220;
      --panel:#0f1a2b;
      --muted:#8aa4d2;
      --text:#e6eefc;
      --accent:#7aa2ff;
      --green:#4ade80;
      --red:#fb7185;
      --yellow:#facc15;
      --line:#1b2840;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,Segoe UI,Roboto,Inter,Arial}
    .wrap{max-width:1100px;margin:48px auto;padding:0 20px}
    h1{font-size:32px;margin:0 0 6px}
    .tagline{color:var(--muted);margin:0 0 24px}
    .grid{display:grid;gap:14px}
    .panel{background:var(--panel);border:1px solid var(--line);border-radius:12px;padding:18px}
    .inputs{grid-template-columns:repeat(4,minmax(0,1fr))}
    label{display:block;font-size:13px;color:var(--muted);margin:0 0 6px}
    input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#0a1424;color:var(--text)}
    .help{color:var(--muted);cursor:help;margin-left:6px}
    .btns{display:flex;gap:10px;margin-top:10px}
    button{padding:10px 14px;border:1px solid var(--line);background:#0a1424;color:var(--text);border-radius:10px;cursor:pointer}
    button:hover{border-color:var(--accent)}
    .kpis{grid-template-columns:repeat(3,minmax(0,1fr))}
    .kpi h3{margin:0 0 4px;font-size:16px;color:var(--muted)}
    .kpi .value{font-size:22px;font-weight:700}
    .kpi.blue .value{color:var(--accent)}
    .kpi.green .value{color:var(--green)}
    .kpi.red .value{color:var(--red)}
    .cols{grid-template-columns:1fr 1fr}
    .list{margin:0;padding-left:18px}
    .list li{margin:.15rem 0}
    .note{color:var(--muted);font-size:13px}
    details{margin-top:8px}
    summary{cursor:pointer;color:var(--muted)}
    .seo{max-width:860px;margin:40px auto 0}
    .seo h2{margin:18px 0 6px}
    .seo p{color:#cfe0ff}
    .foot{margin-top:14px;font-size:12px;color:var(--muted)}
    @media (max-width:980px){.inputs{grid-template-columns:1fr 1fr}.cols{grid-template-columns:1fr}.kpis{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Avbetalning vs kontant + spara</h1>
    <p class="tagline">Fyll i ditt case. Kalkylatorn räknar direkt och presenterar utfallet i klarspråk.</p>

    <!-- INMATNING -->
    <div class="panel grid inputs">
      <div>
        <label>Kontantpris (kr)</label>
        <input id="price" type="number" step="100" value="50000" />
      </div>
      <div>
        <label>Handpenning (kr)</label>
        <input id="down" type="number" step="100" value="2500" />
      </div>
      <div>
        <label>Löptid (månader)</label>
        <input id="months" type="number" min="1" value="24" />
      </div>
      <div>
        <label>Årsränta, APR (%) – lånet <span class="help" title="Årlig nominell ränta för lånet (APR).">ⓘ</span></label>
        <input id="apr" type="number" step="0.1" value="8.9" />
      </div>
      <div>
        <label>Uppläggningsavgift (kr) – engång</label>
        <input id="setupFee" type="number" step="1" value="295" />
      </div>
      <div>
        <label>Adm.avgift (kr/mån)</label>
        <input id="adminFee" type="number" step="1" value="60" />
      </div>
      <div>
        <label>Beräknad månadsbetalning – ränta/principal <span class="help" title="Kalkylerad annuitetsbetalning för lånedelen (exkl. månadsavgifter).">ⓘ</span></label>
        <input id="annuityOut" type="text" disabled />
      </div>
      <div>
        <label>Totalt månadsutflöde – inkl. månadsavg.</label>
        <input id="totalOut" type="text" disabled />
      </div>

      <div class="btns" style="grid-column:1/-1">
        <button id="calcBtn">Beräkna</button>
        <button id="resetBtn" type="button">Rensa</button>
      </div>
    </div>

    <!-- KPI:ER -->
    <div class="grid kpis" style="margin-top:14px">
      <div class="panel kpi blue">
        <h3>Extra kostnad vs kontant</h3>
        <div id="extraCost" class="value">–</div>
        <div class="note">= ränta + avgifter (engång + månadsavgifter)</div>
      </div>
      <div class="panel kpi red">
        <h3>Ränteeffekt</h3>
        <div id="interestEffect" class="value">–</div>
        <div class="note">= betald ränta – intjänad ränta (om du väljer kontant + spara)</div>
      </div>
      <div class="panel kpi green">
        <h3>Skillnad på bankkontot</h3>
        <div id="bankDiff" class="value">–</div>
        <div class="note">≈ buffert efter perioden (kontant + spara)</div>
      </div>
    </div>

    <!-- RESULTATRUTOR -->
    <div class="grid cols" style="margin-top:14px">
      <div class="panel">
        <h3>Avbetalning</h3>
        <ul class="list" id="loanList">
          <!-- fylls via JS -->
        </ul>
      </div>
      <div class="panel">
        <h3>Kontant + spara</h3>
        <ul class="list" id="saveList">
          <!-- fylls via JS -->
        </ul>
      </div>
    </div>

    <div class="panel" style="margin-top:14px">
      <h3>Det här betyder det för dig</h3>
      <ul class="list" id="meaningList"></ul>
      <details>
        <summary>Hur räknar vi? (formler)</summary>
        <div class="note" style="margin-top:8px">
          <p><strong>Månadsränta:</strong> \( i = \frac{\text{APR}}{12} \)</p>
          <p><strong>Annuitetsbetalning (lånedelen):</strong> \( \text{PMT} = \dfrac{i \cdot PV}{1 - (1+i)^{-n}} \), där \( PV \) är lånebeloppet och \( n \) antal månader.</p>
          <p><strong>Buffert (framtida värde av sparande):</strong> \( FV = PMT \cdot \dfrac{(1+r)^n - 1}{r} \), där \( r \) är månadsvis avkastning.</p>
        </div>
      </details>
      <p class="foot">Tips: Testa att höja/sänka avgifter och/eller avkastningen. Poängen syns snabbt: att “spara först, köp sen” bygger styrka.</p>
    </div>

    <!-- SEO-INNEHÅLL -->
    <section class="seo panel">
      <h2>Vad kalkylatorn visar</h2>
      <p>
        Den här kalkylatorn jämför att köpa på avbetalning med att köpa kontant och
        i stället spara samma månadsbelopp som avbetalningen under lika lång tid.
        Du ser tre nyckeltal: <em>extra kostnad vs kontant</em>, <em>ränteeffekt</em> och
        <em>skillnad på bankkontot</em>.
      </p>

      <h2>Hur den fungerar</h2>
      <p>
        Ange pris, handpenning, löptid, låneränta och avgifter. Verktyget räknar ut
        annuitetsbetalning (för ränta/principal), totalkostnad samt buffertens storlek
        om du väljer kontant + spara. Resultaten uppdateras direkt.
      </p>

      <h2>Om Winjo Consulting</h2>
      <p>
        Winjo Consulting AB hjälper företag att använda AI, automation och ekonomianalys
        för smartare beslut. Den här sidan visar hur tydlig visualisering och enkel
        modellering kan göra ekonomi pedagogiskt – och säljande.
      </p>
    </section>
  </div>

  <!-- ======== LOGIK ======== -->
  <script>
    const fmt = n => n.toLocaleString('sv-SE', { style: 'currency', currency: 'SEK', maximumFractionDigits: 2 });

    function annuityPayment(pv, apr, n){
      const i = apr/12;
      if (i === 0) return pv / n;
      return (i * pv) / (1 - Math.pow(1 + i, -n));
    }
    function futureValue(pmt, r, n){
      if (r === 0) return pmt * n;
      return pmt * (Math.pow(1 + r, n) - 1) / r;
    }

    function calculate(){
      const price      = +document.getElementById('price').value || 0;
      const down       = +document.getElementById('down').value || 0;
      const months     = +document.getElementById('months').value || 1;
      const apr        = (+document.getElementById('apr').value || 0) / 100;
      const setupFee   = +document.getElementById('setupFee').value || 0;
      const adminFee   = +document.getElementById('adminFee').value || 0;

      const loanPV     = Math.max(price - down, 0);
      const i          = apr/12;
      const pmtLoan    = annuityPayment(loanPV, apr, months);           // endast ränta/principal
      const totalFlow  = pmtLoan + adminFee;                            // faktiskt månadsutflöde

      // ränta betald (approx: ränta = total annuitetsbetalning – amortering)
      const totalAnnuity = pmtLoan * months;
      // amortering ≈ lånebelopp (vid standard annuitet); ränta ≈ totalAnnuity - PV
      const interestPaid = Math.max(totalAnnuity - loanPV, 0);

      // Totalt betalt vid avbetalning (kontantpris + avgifter + ränta)
      const totalLoanPaid = down + totalAnnuity + (adminFee * months) + setupFee;

      // Kontant + spara
      const monthlySave = totalFlow;                         // sparar samma som utflödet
      const rSave       = 0.05 / 12;                         // default 5%/år -> kan flyttas till input vid behov
      const buffer      = futureValue(monthlySave, rSave, months);

      // KPI:er
      const extraCost   = (interestPaid + setupFee + adminFee * months); // allt som inte ingår i ren kontantaffär
      const earnedInt   = buffer - monthlySave * months;                  // intjänad ränta i sparandet
      const rateEffect  = interestPaid - Math.max(earnedInt, 0);          // “betald ränta – intjänad ränta”
      const bankDiff    = buffer;                                         // buffert efter perioden

      // Skriv ut på fälten
      document.getElementById('annuityOut').value = fmt(pmtLoan);
      document.getElementById('totalOut').value   = fmt(totalFlow);

      document.getElementById('extraCost').textContent     = fmt(extraCost);
      document.getElementById('interestEffect').textContent= fmt(rateEffect);
      document.getElementById('bankDiff').textContent      = fmt(bankDiff);

      // Listor
      const loanList = document.getElementById('loanList');
      loanList.innerHTML = `
        <li>Lånebelopp: <strong>${fmt(loanPV)}</strong></li>
        <li>Månadsbetalning (ränta/principal): <strong>${fmt(pmtLoan)}</strong></li>
        <li>Adm.avgift per månad: <strong>${fmt(adminFee)}</strong></li>
        <li>Uppläggningsavgift: <strong>${fmt(setupFee)}</strong></li>
        <li>Totalt betalt: <strong>${fmt(totalLoanPaid)}</strong></li>
        <li>Varav ränta (approx): <strong>${fmt(interestPaid)}</strong></li>
      `;

      const saveList = document.getElementById('saveList');
      saveList.innerHTML = `
        <li>Startar med kontantköp: <strong>${fmt(price)}</strong> (handpenning <strong>${fmt(down)}</strong>, lånebelopp <strong>${fmt(loanPV)}</strong>)</li>
        <li>Sparar varje månad (samma som avbetalningens utflöde): <strong>${fmt(monthlySave)}</strong></li>
        <li>Förväntad avkastning: <strong>5%/år</strong></li>
        <li>Buffert efter ${months} mån: <strong>${fmt(buffer)}</strong> (varav intjänad ränta ungefär <strong>${fmt(earnedInt)}</strong>)</li>
      `;

      const meaning = document.getElementById('meaningList');
      meaning.innerHTML = `
        <li>Med <em>avbetalning</em> blir dina extra kostnader (ränta + alla avgifter) ungefär <strong>${fmt(extraCost)}</strong>.</li>
        <li>Din <em>ränteeffekt</em> är cirka <strong>${fmt(rateEffect)}</strong> – det vill säga betald ränta minus den ränta du själv hinner tjäna genom att spara.</li>
        <li>Väljer du <em>kontant + spara</em> bygger du efter perioden en buffert på ungefär <strong>${fmt(bankDiff)}</strong>.</li>
      `;
    }

    // UI handlers
    document.getElementById('calcBtn').addEventListener('click', calculate);
    document.getElementById('resetBtn').addEventListener('click', () => {
      ['price','down','months','apr','setupFee','adminFee'].forEach(id=>{
        const el=document.getElementById(id);
        el.value = el.getAttribute('value');
      });
      calculate();
    });

    // autokör vid load
    window.addEventListener('DOMContentLoaded', calculate);
  </script>

  <!-- Google Analytics (valfritt)
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXX'); // ersätt med ditt Measurement ID och ta bort kommentaren
  </script>
  -->
</body>
</html>
